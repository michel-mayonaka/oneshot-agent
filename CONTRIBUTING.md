# Contributing

## 開発環境セットアップ
- 必須: `bash`, `git`, `jq`。
- 必須: Codex CLI（`codex`）。
- 任意: GitHub CLI（`gh`）。
- 任意: ShellSpec（テスト用）。

不明:
- Codex CLI の導入手順と対応バージョン。
- 対応OSの範囲。

必要な追加情報:
- Codex CLI の公式手順への参照。
- CI の有無とバージョン固定方針。

## ブランチ / PR 運用
- 変更はブランチで行う運用を推奨します。
- PR には目的と背景を短く書きます。
- 確認コマンドをPR本文に残します。

## コーディング規約
- スクリプトは `bash` と `set -euo pipefail`。
- 変数名と関数名はスネークケース。
- パス解決は `ONESHOT_AGENT_ROOT` 基準。
- `../` 参照は使いません。

## レビュー観点
- 不変条件（docs/core/02-invariants.md）に抵触しないか。
- ログ形式と保存先が変わらないか。
- 秘密情報の露出が増えないか。

## 新ワークフロー追加手順
1. `run-defs/jobs/` に新しい job spec を追加します。
2. 必要なら `skills/optional/` にガイドを追加します。
3. `Makefile` にターゲットを追加します。
4. `specs/shells/` に最小テストを追加します。
5. `docs/` の関連項目を更新します。

## 保証
- 既存の引数インターフェースを壊しません。

## 仮定
- PR レビュー体制は別途用意されます。
